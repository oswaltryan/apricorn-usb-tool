from pprint import pprint

devices = [{'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '5411',
  'serial': '7&DFCAEC0&0&4',
  'vid': '0bda'},
 {'description': 'USB Audio 2.0',
  'manufacturer': 'Microsoft',
  'pid': '0a06',
  'serial': '7&2715F3D2&0&0000',
  'vid': '26ce'},
 {'description': 'DisplayLink USB Device',
  'manufacturer': 'DisplayLink',
  'pid': '6000',
  'serial': 'A&29DEA856&0&0000',
  'vid': '17e9'},
 {'description': 'DisplayLink Network Adapter NCM',
  'manufacturer': 'DisplayLink',
  'pid': '6000',
  'serial': 'A&29DEA856&0&0005',
  'vid': '17e9'},
 {'description': 'Apricorn Secure Key',
  'manufacturer': 'Apricorn',
  'pid': '1407',
  'serial': '160050000012',
  'vid': '0984'},
 {'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '5411',
  'serial': '5&260B46E3&0&5',
  'vid': '0bda'},
 {'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '2822',
  'serial': 'MSFT20000000001',
  'vid': '2109'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': 'c548',
  'serial': '7&25958B16&0&0002',
  'vid': '046d'},
 {'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '5423',
  'serial': '5&260B46E3&0&11',
  'vid': '0bda'},
 {'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '5411',
  'serial': '6&9B2D3BD&0&4',
  'vid': '0bda'},
 {'description': 'USB Composite Device',
  'manufacturer': '(Standard USB Host Controller)',
  'pid': '3030',
  'serial': '6&1963D097&0&2',
  'vid': '4f53'},
 {'description': 'Apricorn Secure Key',
  'manufacturer': 'Apricorn',
  'pid': '1407',
  'serial': 'MSFT30000000000014',
  'vid': '0984'},
 {'description': 'Generic SuperSpeed USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '0411',
  'serial': '5&260B46E3&0&21',
  'vid': '0bda'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': '0901',
  'serial': '9&A706647&0&0001',
  'vid': '0c2e'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': '3030',
  'serial': '7&2CE30D75&0&0002',
  'vid': '4f53'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': '0901',
  'serial': '9&A706647&0&0000',
  'vid': '0c2e'},
 {'description': 'USB Printing Support',
  'manufacturer': 'Microsoft',
  'pid': '0021',
  'serial': '17010719512938',
  'vid': '0922'},
 {'description': 'Saleae Logic Pro 8 USB Logic Analyzer',
  'manufacturer': 'Saleae LLC',
  'pid': '1005',
  'serial': 'SERNUM',
  'vid': '21a9'},
 {'description': 'DisplayLink USB Device',
  'manufacturer': 'DisplayLink',
  'pid': '6000',
  'serial': 'A&29DEA856&0&0001',
  'vid': '17e9'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': '0a06',
  'serial': '7&2715F3D2&0&0006',
  'vid': '26ce'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': 'c548',
  'serial': '7&25958B16&0&0003',
  'vid': '046d'},
 {'description': 'Billboard Device',
  'manufacturer': 'WinUsb Device',
  'pid': '5418',
  'serial': '6&9B2D3BD&0&5',
  'vid': '0bda'},
 {'description': 'Generic SuperSpeed USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '0411',
  'serial': '7&2344CC8F&0&4',
  'vid': '0bda'},
 {'description': 'Generic SuperSpeed USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '3074',
  'serial': '5&260B46E3&0&24',
  'vid': '174c'},
 {'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '5411',
  'serial': '6&7814969&0&4',
  'vid': '0bda'},
 {'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '2074',
  'serial': '5&260B46E3&0&8',
  'vid': '174c'},
 {'description': 'USB Composite Device',
  'manufacturer': '(Standard USB Host Controller)',
  'pid': '0901',
  'serial': '11115B03ED',
  'vid': '0c2e'},
 {'description': 'DisplayLink USB Audio Adapter',
  'manufacturer': 'DisplayLink',
  'pid': '6000',
  'serial': 'A&29DEA856&0&0002',
  'vid': '17e9'},
 {'description': 'USB Composite Device',
  'manufacturer': '(Standard USB Host Controller)',
  'pid': '6000',
  'serial': '600001221630182',
  'vid': '17e9'},
 {'description': 'Apricorn Secure Key',
  'manufacturer': 'Apricorn',
  'pid': '1410',
  'serial': '141420000016',
  'vid': '0984'},
 {'description': 'Generic SuperSpeed USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '0423',
  'serial': '8&12641D2&0&3',
  'vid': '0bda'},
 {'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '0610',
  'serial': '5&260B46E3&0&7',
  'vid': '05e3'},
 {'description': 'Intel(R) Wireless Bluetooth(R)',
  'manufacturer': 'Intel Corporation',
  'pid': '0032',
  'serial': '5&260B46E3&0&14',
  'vid': '8087'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': '1100',
  'serial': '7&373894B2&0&5',
  'vid': '0bda'},
 {'description': 'Logitech USB Input Device',
  'manufacturer': 'Logitech (x64)',
  'pid': 'c548',
  'serial': '7&25958B16&0&0000',
  'vid': '046d'},
 {'description': 'Generic SuperSpeed USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '0411',
  'serial': '9&11C6CDC5&0&4',
  'vid': '0bda'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': '3030',
  'serial': '7&2CE30D75&0&0000',
  'vid': '4f53'},
 {'description': 'Generic USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '0610',
  'serial': '5&260B46E3&0&10',
  'vid': '05e3'},
 {'description': 'USB Composite Device',
  'manufacturer': '(Standard USB Host Controller)',
  'pid': 'c548',
  'serial': '6&1963D097&0&3',
  'vid': '046d'},
 {'description': 'Generic SuperSpeed USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '0411',
  'serial': '6&3444F2BB&0&4',
  'vid': '0bda'},
 {'description': 'USB Composite Device',
  'manufacturer': '(Standard USB Host Controller)',
  'pid': '0a06',
  'serial': '6&399B2385&0&3',
  'vid': '26ce'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': '01a2',
  'serial': 'A02019100900',
  'vid': '26ce'},
 {'description': 'USB Input Device',
  'manufacturer': '(Standard system devices)',
  'pid': 'c548',
  'serial': '7&25958B16&0&0001',
  'vid': '046d'},
 {'description': 'Total Phase Beagle Protocol Analyzer',
  'manufacturer': 'Total Phase, Inc.',
  'pid': '2001',
  'serial': 'TP1096-098255',
  'vid': '1679'},
 {'description': 'Generic SuperSpeed USB Hub',
  'manufacturer': '(Standard USB HUBs)',
  'pid': '0822',
  'serial': 'MSFT30000000001',
  'vid': '2109'},
 {'description': 'USB Input Device',
  'pid': '3030',
  'serial': '7&2CE30D75&0&0001',
  'vid': '4f53'}]

print("Original list:")
pprint(devices)
print()

# Modify original list to keep only Apricorn devices, skipping those without manufacturer
devices[:] = [item for item in devices if item.get('manufacturer') == 'Apricorn']

print("Filtered original list (only Apricorn devices):")
pprint(devices)
print()

sn_list = []
for device in devices:
    sn_list.append(device['serial'])

# sn_list = ['160050000012', 'MSFT30000000000014', '141420000016']
for sn in sn_list:
    for item in devices:
        for k, v in item.items():
            # print(k, v)
            if k == 'serial' and sn in v:
                print(f"removed: {item}")
                devices.remove(item)

print()
pprint(devices)